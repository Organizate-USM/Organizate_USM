{% extends 'base/base.html'%}
{% block link_css %}
    rel="stylesheet" href="{{ url_for('static', filename='css/style.css' ) }}"
{% endblock %}
{% block link_css_todo %}
    rel="stylesheet" href="{{ url_for('static', filename='css/todolist.css' ) }}"
{% endblock %}

script_js
{% block title %} Index  {% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/evo-calendar.midnight-blue.min.css' ) }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/evo-calendar.min.css' ) }}">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
    
    <header class=main-head>
        <nav id="navusm">
            <div id="logoimg">
                <img src="static\img\img.png" alt="logo" width="70" height="70">
            </div>
            <h1 id= 'logo'>Organízate USM</h1>
            <ul id="ulusm">
                <li class="liusm"><a href="{{ url_for('index') }}" class="ausm" id="index-button">Inicio</a></li>
                <li class="liusm"><a href="{{ url_for('material') }}" class="ausm" id="material-button">Material</a>
                    <ul class="submenu">
						<li><a href="{{ url_for('informatica') }}">Ingeniería Civil en informatica</a></li>
						<li><a href="{{ url_for('matematica') }}">Ingeniería Civil en matemática</a></li>
						<li><a href="{{ url_for('minas') }}">Ingeniería Civil en minas</a></li>
						<li><a href="{{ url_for('arqui') }}">Arquitectura</a></li>
						<li><a href="{{ url_for('elo') }}">Ingeniería Civil en electronica</a></li>
						<li><a href="{{ url_for('industrial') }}">Ingeniería Civil industrial</a></li>
					</ul>
                </li>
                <li class="liusm"><a href="{{ url_for('pomodoro') }}" class="ausm" id="pomodoro-button">Pomodoro</a></li>
                <li class="liusm"><a href="{{ url_for('logout') }}" class="ausm" id="logout-button">Logout</a></li>
            </ul>
        </nav>
    </header>
    <h3>Calendario y lista de quehaceres</h3>
    <div class="hero">
        <div id="calendar"></div>
    </div>

    <!-- Add jQuery library (required) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
    <script src="{{ url_for('static', filename='js/evo-calendar.min.js' ) }}"></script>

    <script>
        $(document).ready(function() {
            $('#calendar').evoCalendar({
                theme: 'Midnight Blue',
                'todayHighlight': true,
                'language': 'es',
                'firstDayOfWeek': 1,
                calendarEvents: [{
                    id: 'event1', // Event's ID (required)
                    name: "Año nuevo", // Event name (required)
                    date: "January/1/2020", // Event date (required)
                    description: "aaaaaaaaaaaaaa",
                    type: "holiday", // Event type (required)
                    everyYear: true // Same event every year (optional)
                },
                {
                    name: "Vacaciones",
                    badge: "02/13 - 02/15", // Event badge (optional)
                    date: ["February/13/2020", "February/15/2020"], // Date range
                    description: "Vacaciones.", // Event description (optional)
                    type: "event",
                    color: "#63d867" // Event custom color (optional)

                },
                {% for evento in event %}
                {
                    name: "{{ evento.nombre }}",
                    date: "{{ evento.fecha }}",
                    description: "{{ evento.descripcion }}",
                    type: "event",
                    color: "#63d867"
                },
                {% endfor %}

            ]
            })
        })
    </script>
        <div class="addevent">
            <div>
                <button type="button" id="BotonModal" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" size= "90">Agregar o eliminar eventos</button>
            </div>
        </div>

        <div class="todolist">
            <div id="myDIV" class="header">
                <h2>Lista de quehaceres</h2>
                <!-- <form action="/add" method="POST"> -->
                    <!-- <input type="hidden" name="csrf_token" value="IjQ5MjMwODcxMGE3NzQzMDExNjIxMDkwM2NjNTc5YzQ2OTYyYTUyYmIi.X-AyKQ.8EyDTxP6RER7IsBMl4TlyaQ1udA"  /> -->
                    <input type="text" id="myInput" placeholder="Titulo...">
                    <button id="addBtn">Agregar</button>
                <!-- </form> -->
            </div>

            <ul id="myUL">

            </ul>
        </div>


        <!-- Firebase Libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script> 
    <script type="text/javascript" src="/static/js/organizate.js"></script>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <font class="num-color" size="10">
                    <h2 class="modal-title" id="exampleModalLabel">Eventos</h2>
                </font>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                  <div>
                      <h1>Agregar evento</h1>
                      <form action="{{ url_for('addevent') }}" method="POST" class="header">
                          <input class="input-event" type="hidden" name="csrf_token" value="{{ csrf_token() }}"  />
                          <input class="input-event" type="text" name="nombre" placeholder="Nombre...">
                          <input class="input-event" type="text" name="descripcion" placeholder="Descripcion...">
                          <input class="input-event" type="date" id="start" name="fecha" value="2020-12-12" min="2020-01-01" max="2030-12-31">
                          <input class="input-event" type="submit" class="addBtn" value='Agregar'>
                      </form>
                  </div>

                  <div>
                    <h1>Eliminar evento</h1>
                  </div>
                  <ul id="ul-model">
                      {% for evento in event %}
                      <li class="lito-modal">{{ evento.nombre }}, Fecha: {{ evento.fechaleer }}<a href="{{ url_for('deleteevent', id=evento.id) }}"><span class="close">X</span></a></li>
                      {% endfor %}
                  </ul>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

{% endblock %}
